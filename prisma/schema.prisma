generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model game {
  id                           BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  home_team_id                 BigInt @db.UnsignedBigInt
  away_team_id                 BigInt @db.UnsignedBigInt
  home_team_score              Int    @db.UnsignedInt
  away_team_score              Int    @db.UnsignedInt
  team_game_away_team_idToteam team   @relation("game_away_team_idToteam", fields: [away_team_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "game_ibfk_2")
  team_game_home_team_idToteam team   @relation("game_home_team_idToteam", fields: [home_team_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "game_ibfk_1")

  @@index([away_team_id], map: "away_team_id")
  @@index([home_team_id], map: "home_team_id")
}

model player {
  id            BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  team_id       BigInt @db.UnsignedBigInt
  first_name    String @db.VarChar(32)
  last_name     String @db.VarChar(32)
  jersey_number Int    @db.UnsignedInt
  team          team   @relation(fields: [team_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "player_ibfk_1")

  @@index([team_id], map: "team_id")
}

model team {
  id                           BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  name                         String   @db.VarChar(64)
  game_game_away_team_idToteam game[]   @relation("game_away_team_idToteam")
  game_game_home_team_idToteam game[]   @relation("game_home_team_idToteam")
  player                       player[]
}
